{"version":3,"file":"index.min.js","sources":["../src/compose.ts","../src/curry.ts","../src/curryRight.ts","../src/decorate.ts","../src/dispatcher.ts","../src/emitter.ts","../src/iterate.ts"],"sourcesContent":["type ComposableFunction = (...args: Array<any>) => any;\n\nfunction compose(...funcs: Array<ComposableFunction>): ComposableFunction {\n    return funcs.reduce(\n        (previousFunction: ComposableFunction, currentFunction: ComposableFunction) =>\n            // eslint-disable-next-line implicit-arrow-linebreak\n            (...args: Array<any>): any =>\n                // eslint-disable-next-line implicit-arrow-linebreak\n                currentFunction(previousFunction(...args)),\n    );\n}\n\nexport {\n    compose as default,\n};\n","function curry(func: (...args: Array<any>) => any, ...args: Array<any>): (...args: Array<any>) => any {\n    return (...args2: Array<any>) => func(...args, ...args2);\n}\n\nexport {\n    curry as default,\n};\n","function curryRight(func: (...args: Array<any>) => any, ...args: Array<any>): (...args: Array<any>) => any {\n    return (...args2: Array<any>) => func(...args2, ...args);\n}\n\nexport {\n    curryRight as default,\n};\n","function decorate(target: Function, decorator: Function) {\n    return function func(...args: Array<any>): any {\n        return decorator(...args, target);\n    };\n}\n\nexport {\n    decorate as default,\n};\n","type MutatorType = (state: any, next: MutatorType) => any | Promise<any>;\ntype SubscriberType = (entry: any) => void;\n\nasync function dispatcher(state: any, mutators: Array<MutatorType>, subscribers?: Array<SubscriberType>): Promise<any> {\n    const hasSubscribers = (subscribers !== undefined);\n    let index = 0;\n\n    const next = async (newState) => {\n        const layer = mutators[index];\n\n        if (layer === undefined) {\n            return newState;\n        }\n\n        index += 1;\n\n        return layer(\n            newState,\n            async (currentState) => {\n                if (hasSubscribers) {\n                    // @ts-ignore\n                    (<any>subscribers).forEach((subscriber) => {\n                        subscriber({ action: layer.name, previousState: newState, newState: currentState });\n                    });\n                }\n\n                return next(currentState);\n            },\n        );\n    };\n\n    return next(state);\n}\n\nexport {\n    dispatcher as default,\n};\n","type EventType = (...args: Array<any>) => void;\ntype EventsTableType = { [key: string]: Array<EventType> };\ntype SubscriberType = (entry: any) => void;\n\nasync function emitter(events: EventsTableType,\n    eventName: string, args?: Array<any>, subscribers?: Array<SubscriberType>): Promise<void> {\n    const isEventWildcard = (eventName === '*');\n    const argsPass = (args !== undefined) ? args : [];\n\n    // eslint-disable-next-line no-restricted-syntax\n    for (const eventKey of Object.keys(events)) {\n        if (!isEventWildcard && eventName !== eventKey) {\n            continue;\n        }\n\n        // eslint-disable-next-line no-restricted-syntax\n        for (const eventSubscriber of events[eventKey]) {\n            if (subscribers !== undefined) {\n                subscribers.forEach((subscriber) => {\n                    subscriber({ event: eventKey, subscriber: eventSubscriber.name, args: args });\n                });\n            }\n\n            // eslint-disable-next-line no-await-in-loop\n            await eventSubscriber(...argsPass);\n        }\n    }\n}\n\nexport {\n    emitter as default,\n};\n","async function iterate(iterable: Iterable<any> | Promise<Iterable<any>>,\n    func: (...args: Array<any>) => Promise<any> | any): Promise<void> {\n    // eslint-disable-next-line no-restricted-syntax\n    for (const value of await iterable) {\n        // eslint-disable-next-line no-await-in-loop\n        await func(value);\n    }\n}\n\nexport {\n    iterate as default,\n};\n"],"names":[],"mappings":"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"}