function r(r,n,e,t){return new(e||(e=Promise))(function(o,u){function a(r){try{c(t.next(r))}catch(r){u(r)}}function i(r){try{c(t.throw(r))}catch(r){u(r)}}function c(r){r.done?o(r.value):new e(function(n){n(r.value)}).then(a,i)}c((t=t.apply(r,n||[])).next())})}function n(r,n){var e,t,o,u,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function i(u){return function(i){return function(u){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,t&&(o=2&u[0]?t.return:u[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,u[1])).done)return o;switch(t=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,t=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){a=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){a.label=u[1];break}if(6===u[0]&&a.label<o[1]){a.label=o[1],o=u;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(u);break}o[2]&&a.ops.pop(),a.trys.pop();continue}u=n.call(r,a)}catch(r){u=[6,r],t=0}finally{e=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,i])}}}function e(r){var n="function"==typeof Symbol&&r[Symbol.iterator],e=0;return n?n.call(r):{next:function(){return r&&e>=r.length&&(r=void 0),{value:r&&r[e++],done:!r}}}}function t(r,n){var e="function"==typeof Symbol&&r[Symbol.iterator];if(!e)return r;var t,o,u=e.call(r),a=[];try{for(;(void 0===n||n-- >0)&&!(t=u.next()).done;)a.push(t.value)}catch(r){o={error:r}}finally{try{t&&!t.done&&(e=u.return)&&e.call(u)}finally{if(o)throw o.error}}return a}function o(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(t(arguments[n]));return r}function u(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.reduce(function(r,n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n(r.apply(void 0,o(e)))}})}function a(r){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.apply(void 0,o(n,e))}}function i(r){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.apply(void 0,o(e,n))}}function c(r,n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.apply(void 0,o(e,[r]))}}function l(e,t,o){return r(this,void 0,void 0,function(){var u,a,i,c=this;return n(this,function(l){return u=void 0!==o,a=0,[2,(i=function(e){return r(c,void 0,void 0,function(){var c,l=this;return n(this,function(f){return void 0===(c=t[a])?[2,e]:(a+=1,[2,c(e,function(t){return r(l,void 0,void 0,function(){return n(this,function(r){return u&&o.forEach(function(r){r({action:c.name,previousState:e,newState:t})}),[2,i(t)]})})})])})})})(e)]})})}function f(t,u,a,i){return r(this,void 0,void 0,function(){var r,c,l,f,s,v,h,d,y;return n(this,function(p){switch(p.label){case 0:r="*"===u,c=void 0!==a?a:[],l=function(l){var f,s,v,h,d,y,p;return n(this,function(b){switch(b.label){case 0:if(!r&&u!==l)return[2,"continue"];f=function(r){return n(this,function(n){switch(n.label){case 0:return void 0!==i&&i.forEach(function(n){n({event:l,subscriber:r.name,args:a})}),[4,r.apply(void 0,o(c))];case 1:return n.sent(),[2]}})},b.label=1;case 1:b.trys.push([1,6,7,8]),y=void 0,s=e(t[l]),v=s.next(),b.label=2;case 2:return v.done?[3,5]:(h=v.value,[5,f(h)]);case 3:b.sent(),b.label=4;case 4:return v=s.next(),[3,2];case 5:return[3,8];case 6:return d=b.sent(),y={error:d},[3,8];case 7:try{v&&!v.done&&(p=s.return)&&p.call(s)}finally{if(y)throw y.error}return[7];case 8:return[2]}})},p.label=1;case 1:p.trys.push([1,6,7,8]),f=e(Object.keys(t)),s=f.next(),p.label=2;case 2:return s.done?[3,5]:(v=s.value,[5,l(v)]);case 3:p.sent(),p.label=4;case 4:return s=f.next(),[3,2];case 5:return[3,8];case 6:return h=p.sent(),d={error:h},[3,8];case 7:try{s&&!s.done&&(y=f.return)&&y.call(f)}finally{if(d)throw d.error}return[7];case 8:return[2]}})})}function s(t,o){return r(this,void 0,void 0,function(){var r,u,a,i,c,l;return n(this,function(n){switch(n.label){case 0:return n.trys.push([0,6,7,8]),[4,t];case 1:r=e.apply(void 0,[n.sent()]),u=r.next(),n.label=2;case 2:return u.done?[3,5]:(a=u.value,[4,o(a)]);case 3:n.sent(),n.label=4;case 4:return u=r.next(),[3,2];case 5:return[3,8];case 6:return i=n.sent(),c={error:i},[3,8];case 7:try{u&&!u.done&&(l=r.return)&&l.call(r)}finally{if(c)throw c.error}return[7];case 8:return[2]}})})}var v={compose:u,curry:a,curryRight:i,decorate:c,dispatcher:l,emitter:f,iterate:s};export default v;export{u as compose,a as curry,i as curryRight,c as decorate,l as dispatcher,f as emitter,s as iterate};
