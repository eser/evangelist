!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((e=e||self).evangelist={})}(this,function(e){"use strict";function r(e,r,t,n){return new(t||(t=Promise))(function(o,u){function i(e){try{c(n.next(e))}catch(e){u(e)}}function a(e){try{c(n.throw(e))}catch(e){u(e)}}function c(e){e.done?o(e.value):new t(function(r){r(e.value)}).then(i,a)}c((n=n.apply(e,r||[])).next())})}function t(e,r){var t,n,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=r.call(e,i)}catch(e){u=[6,e],n=0}finally{t=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}}function n(e){var r="function"==typeof Symbol&&e[Symbol.iterator],t=0;return r?r.call(e):{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}}}function o(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,u=t.call(e),i=[];try{for(;(void 0===r||r-- >0)&&!(n=u.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=u.return)&&t.call(u)}finally{if(o)throw o.error}}return i}function u(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(o(arguments[r]));return e}function i(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.reduce(function(e,r){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return r(e.apply(void 0,u(t)))}})}function a(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(void 0,u(r,t))}}function c(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(void 0,u(t,r))}}function l(e,r){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return r.apply(void 0,u(t,[e]))}}function f(e,n,o){return r(this,void 0,void 0,function(){var u,i,a,c=this;return t(this,function(l){return u=void 0!==o,i=0,[2,(a=function(e){return r(c,void 0,void 0,function(){var c,l=this;return t(this,function(f){return void 0===(c=n[i])?[2,e]:(i+=1,[2,c(e,function(n){return r(l,void 0,void 0,function(){return t(this,function(r){return u&&o.forEach(function(r){r({action:c.name,previousState:e,newState:n})}),[2,a(n)]})})})])})})})(e)]})})}function s(e,o,i,a){return r(this,void 0,void 0,function(){var r,c,l,f,s,h,v,d,y;return t(this,function(p){switch(p.label){case 0:r="*"===o,c=void 0!==i?i:[],l=function(l){var f,s,h,v,d,y,p;return t(this,function(b){switch(b.label){case 0:if(!r&&o!==l)return[2,"continue"];f=function(e){return t(this,function(r){switch(r.label){case 0:return void 0!==a&&a.forEach(function(r){r({event:l,subscriber:e.name,args:i})}),[4,e.apply(void 0,u(c))];case 1:return r.sent(),[2]}})},b.label=1;case 1:b.trys.push([1,6,7,8]),y=void 0,s=n(e[l]),h=s.next(),b.label=2;case 2:return h.done?[3,5]:(v=h.value,[5,f(v)]);case 3:b.sent(),b.label=4;case 4:return h=s.next(),[3,2];case 5:return[3,8];case 6:return d=b.sent(),y={error:d},[3,8];case 7:try{h&&!h.done&&(p=s.return)&&p.call(s)}finally{if(y)throw y.error}return[7];case 8:return[2]}})},p.label=1;case 1:p.trys.push([1,6,7,8]),f=n(Object.keys(e)),s=f.next(),p.label=2;case 2:return s.done?[3,5]:(h=s.value,[5,l(h)]);case 3:p.sent(),p.label=4;case 4:return s=f.next(),[3,2];case 5:return[3,8];case 6:return v=p.sent(),d={error:v},[3,8];case 7:try{s&&!s.done&&(y=f.return)&&y.call(f)}finally{if(d)throw d.error}return[7];case 8:return[2]}})})}function h(e,o){return r(this,void 0,void 0,function(){var r,u,i,a,c,l;return t(this,function(t){switch(t.label){case 0:return t.trys.push([0,6,7,8]),[4,e];case 1:r=n.apply(void 0,[t.sent()]),u=r.next(),t.label=2;case 2:return u.done?[3,5]:(i=u.value,[4,o(i)]);case 3:t.sent(),t.label=4;case 4:return u=r.next(),[3,2];case 5:return[3,8];case 6:return a=t.sent(),c={error:a},[3,8];case 7:try{u&&!u.done&&(l=r.return)&&l.call(r)}finally{if(c)throw c.error}return[7];case 8:return[2]}})})}var v={compose:i,curry:a,curryRight:c,decorate:l,dispatcher:f,emitter:s,iterate:h};e.compose=i,e.curry=a,e.curryRight=c,e.decorate=l,e.default=v,e.dispatcher=f,e.emitter=s,e.iterate=h,Object.defineProperty(e,"__esModule",{value:!0})});
